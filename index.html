<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Pat'rouille - ESAM OLD</title>
    <link rel="icon" type="image/png" href="src/logo.png" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-geoman-free@2.15.0/dist/leaflet-geoman.css" />
    <link rel="stylesheet" href="style.css" />

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-geoman-free@2.15.0/dist/leaflet-geoman.min.js"></script>
    <script  src="carte/leaflet/GpPluginLeaflet-2.4.2/GpPluginLeaflet.js" data-key="cartes,essentiels,ign_scan_ws,transports"></script>
     <link rel="stylesheet" href="carte/leaflet/GpPluginLeaflet-2.4.2/GpPluginLeaflet.css">
</head>
<body>
<header>
    <img src="src/logo.png" alt="logo" id="logo">
    <h1>ESAM | Pat'rouille ‚Äî Refonte</h1>
</header>

<main class="conteneur">
    <section class="left-panel">
        <form id="alerteForm" name="alerte">
            <h2>PRISE D'ALERTE</h2>

            <fieldset class="card">
                <legend>APPELANT</legend>
                <label>Requ√©rant<input name="requerant" id="requerant" type="text"></label>
                <label>T√©l√©phone<input name="tel" id="tel" type="tel"></label>
                <label>Qualit√©<input name="qualite" id="qualite" type="text"></label>
            </fieldset>

            <fieldset class="card">
                <legend>ANIMAL</legend>
                <label>Type<input name="type" id="type"></label>
                <label>Race<input name="race" id="race"></label>
                <label>Poids (kg)<input name="poids" id="poids" type="number" min="0"></label>
            </fieldset>

            <fieldset class="card">
                <legend>LIEUX</legend>
                <label>D√©partement<input id="dep" name="dep" list="dep_list" placeholder="ex: 38 - Is√®re"></label>
                <datalist id="dep_list"></datalist>

                <label>Commune<input id="commune" name="commune" list="comm_list" placeholder="Saisir la commune"></label>
                <datalist id="comm_list"></datalist>

                <label>Lieu-dit<input id="lieux" name="lieux"></label>

                <label>Coordonn√©es (DD)<input id="cord" name="cord" placeholder="lat, lng"></label>
                <button type="button" class="small-btn" onclick="centercordonnee()" title="Centrer sur les coordonn√©es"><i>üìç</i></button>
            </fieldset>

            <fieldset class="card">
                <legend>DESCRIPTION</legend>
                <textarea id="description" name="description" rows="4" placeholder="Description..."></textarea>
                <div class="row">
                    <label>Blessure<input id="blessures" name="blessures"></label>
                    <label>Depuis<input id="depuis" name="depuis"></label>
                </div>
            </fieldset>

            <fieldset class="card">
                <legend>ACC√àS</legend>
                <label>Marche<input id="marche" name="marche" type="time"></label>
                <label>Aide<input id="aide" name="aide"></label>
                <label>Pick-Up<input id="pickup" name="pickup"></label>
            </fieldset>

            <fieldset class="card">
                <legend>COORD CONVERTER</legend>
                <div id="gps-converter-container">
                    <h4>DD</h4>
                    <div class="gps-row"><input id="latDD" type="number" step="0.000001" placeholder="45.123456"><input id="lonDD" type="number" step="0.000001" placeholder="5.123456"></div>
                    <h4>DMS</h4>
                    <div class="gps-row small">
                        <input id="latD" type="number" placeholder="45"><input id="latM" type="number" placeholder="30"><input id="latS" type="number" step="0.01" placeholder="38.25">
                        <select id="latRef"><option value="N">N</option><option value="S">S</option></select>
                    </div>
                    <div class="gps-row small">
                        <input id="lonD" type="number" placeholder="5"><input id="lonM" type="number" placeholder="45"><input id="lonS" type="number" step="0.01" placeholder="12.00">
                        <select id="lonRef"><option value="E">E</option><option value="W">W</option></select>
                    </div>
                    <h4>DMD</h4>
                    <div class="gps-row small">
                        <input id="latDmdD" type="number" placeholder="45"><input id="latDmdM" type="number" step="0.001" placeholder="30.633"><select id="latDmdRef"><option value="N">N</option><option value="S">S</option></select>
                    </div>
                    <div class="gps-row small">
                        <input id="lonDmdD" type="number" placeholder="5"><input id="lonDmdM" type="number" step="0.001" placeholder="45.200"><select id="lonDmdRef"><option value="E">E</option><option value="W">W</option></select>
                    </div>
                </div>
            </fieldset>

            <input type="hidden" id="geojson" name="geojson">
            <div class="actions">
                <button type="button" onclick="saveLocal()">Sauvegarder local</button>
                <button type="button" onclick="loadLocal()">Charger local</button>
                <button type="button" onclick="downloadTxt()">T√©l√©charger</button>
                <button type="button" onclick="sendMessenger()">Envoyer Messenger</button>
                <input type="file" id="fileInput" accept=".txt">
                <button type="button" onclick="uploadFile()">Charger fichier</button>
            </div>
        </form>
    </section>

    <section class="right-panel">
        <div id="map" aria-label="Carte" ></div>
        <div id="map-controls" class="map-controls">
            <button id="fullscreenBtn" title="Plein √©cran">‚õ∂</button>
            <div id="color-control" class="color-control"></div>
        </div>
    </section>
</main>

<footer>
    <small>Refonte ‚Äî ESAM | Pat'rouille</small>
</footer>

<script src="script.js"></script>
</body>
</html>
